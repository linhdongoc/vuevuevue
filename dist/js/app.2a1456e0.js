(function(t){function e(e){for(var o,a,s=e[0],c=e[1],l=e[2],d=0,v=[];d<s.length;d++)a=s[d],r[a]&&v.push(r[a][0]),r[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(v.length)v.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(o=!1)}o&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},r={app:0},i=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"05e0":function(t,e,n){},1183:function(t,e,n){"use strict";var o=n("c444"),r=n.n(o);r.a},"1f31":function(t,e,n){},"23f9":function(t,e,n){"use strict";var o=n("f195"),r=n.n(o);r.a},"28e5":function(t,e,n){"use strict";var o=n("914e"),r=n.n(o);r.a},"2ad8":function(t,e,n){},"2c5b":function(t,e,n){"use strict";var o=n("2ad8"),r=n.n(o);r.a},"42a7":function(t,e,n){"use strict";var o=n("8551"),r=n.n(o);r.a},"56d7":function(t,e,n){"use strict";n.r(e);var o={};n.r(o),n.d(o,"state",(function(){return Jt}));var r={};n.r(r),n.d(r,"namespaced",(function(){return ee})),n.d(r,"state",(function(){return ne})),n.d(r,"mutations",(function(){return oe})),n.d(r,"actions",(function(){return re})),n.d(r,"getters",(function(){return ie}));var i={};n.r(i),n.d(i,"namespaced",(function(){return le})),n.d(i,"state",(function(){return ue})),n.d(i,"mutations",(function(){return ve})),n.d(i,"actions",(function(){return pe}));n("a481"),n("ac6a"),n("14c6"),n("08c1"),n("4842"),n("d9fc");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav-bar"),n("NotificationContainer"),n("router-view",{key:t.$route.fullPath})],1)},c=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"nav"}},[n("router-link",{staticClass:"brand",attrs:{to:"/"}},[t._v("Home")]),n("router-link",{attrs:{to:"/dashboard"}},[t._v("Dashboard")]),n("nav",[t.signedIn()?t._e():n("router-link",{attrs:{to:"/signin"}},[t._v("Sign in")]),t.signedIn()?t._e():n("router-link",{attrs:{to:"/signup"}},[t._v("Sign Up")]),t.signedIn()?n("router-link",{attrs:{to:"/books"}},[t._v("Books")]):t._e(),t.signedIn()?n("router-link",{attrs:{to:"/items"}},[t._v("Items")]):t._e(),t.signedIn()?n("router-link",{attrs:{to:"/todoLists"}},[t._v("Todo Lists")]):t._e(),t.signedIn()?n("router-link",{attrs:{to:"/events"}},[t._v("Events")]):t._e(),t.signedIn()?n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.signOut(e)}}},[t._v("Sign out")]):t._e()],1)],1)},u=[],d={name:"NavBar",created:function(){this.signedIn()},methods:{setError:function(t,e){this.error=t.response&&t.response.data&&t.response.data.error||e},signedIn:function(){return localStorage.signedIn},signOut:function(){var t=this;this.$http.secured.delete("/signin").then((function(e){delete localStorage.csrf,delete localStorage.signedIn,t.$router.replace("/")})).catch((function(e){return t.setError(e,"Cannot sign out")}))}}},v=d,p=(n("23f9"),n("2877")),f=Object(p["a"])(v,l,u,!1,null,"f4e7973e",null),m=f.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notification-container"},t._l(t.notifications,(function(t){return n("NotificationBar",{key:t.id,attrs:{notification:t}})})),1)},g=[],_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notification-bar",class:t.notificationTypeClass},[n("p",[t._v(t._s(t.notification.message))])])},b=[],w=n("2f62"),E={name:"NotificationBar",props:{notification:{type:Object,required:!0}},data:function(){return{timeout:null}},mounted:function(){var t=this;this.timeout=setTimeout((function(){return t.remove(t.notification)}),5e3)},beforeDestroy:function(){clearTimeout(this.timeout)},computed:{notificationTypeClass:function(){return"-text-".concat(this.notification.type)}},methods:Object(w["b"])("notification",["remove"])},y=E,S=(n("42a7"),Object(p["a"])(y,_,b,!1,null,"6988ecba",null)),k=S.exports,T={name:"NotificationContainer",components:{NotificationBar:k},computed:Object(w["c"])("notification",["notifications"])},C=T,O=(n("2c5b"),Object(p["a"])(C,h,g,!1,null,"6ff27eac",null)),L=O.exports,I={components:{NavBar:m,NotificationContainer:L}},D=I,x=(n("5c0b"),Object(p["a"])(D,s,c,!1,null,null,null)),$=x.exports,j=n("8c4f"),P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.error?n("div",[t._v(t._s(t.error))]):t._e(),n("form",{on:{submit:function(e){return e.preventDefault(),t.addEvent(e)}}},[n("label",[t._v("Select a category")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.newEvent.categories,expression:"newEvent.categories"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newEvent,"categories",e.target.multiple?n:n[0])}}},[n("option",{attrs:{disabled:""}},[t._v("Select a category")]),t._l(t.categories,(function(e){return n("option",{key:e},[t._v(t._s(e))])}))],2),n("h3",[t._v("Name & describe your event")]),n("div",{staticClass:"field"},[n("label",[t._v("Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newEvent.title,expression:"newEvent.title"}],attrs:{type:"text",placeholder:"Add an event title"},domProps:{value:t.newEvent.title},on:{input:function(e){e.target.composing||t.$set(t.newEvent,"title",e.target.value)}}})]),n("div",{staticClass:"field"},[n("label",[t._v("Description")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newEvent.description,expression:"newEvent.description"}],attrs:{type:"text",placeholder:"Add a description"},domProps:{value:t.newEvent.description},on:{input:function(e){e.target.composing||t.$set(t.newEvent,"description",e.target.value)}}})]),n("h3",[t._v("Where is your event?")]),n("div",{staticClass:"field"},[n("label",[t._v("Location")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newEvent.location,expression:"newEvent.location"}],attrs:{type:"text",placeholder:"Add a location"},domProps:{value:t.newEvent.location},on:{input:function(e){e.target.composing||t.$set(t.newEvent,"location",e.target.value)}}})]),n("h3",[t._v("When is your event?")]),n("div",{staticClass:"field"},[n("label",[t._v("Term Start")]),n("flat-pickr",{attrs:{placeholder:"Select Datetime",config:t.flatPickrConfig},model:{value:t.newEvent.term_start,callback:function(e){t.$set(t.newEvent,"term_start",e)},expression:"newEvent.term_start"}})],1),n("div",{staticClass:"field"},[n("label",[t._v("Term End")]),n("flat-pickr",{attrs:{placeholder:"Select Datetime",config:t.flatPickrConfig},model:{value:t.newEvent.term_end,callback:function(e){t.$set(t.newEvent,"term_end",e)},expression:"newEvent.term_end"}})],1),n("div",{staticClass:"field"},[n("label",[t._v("Select an Organizer")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.newEvent.organizer_ids,expression:"newEvent.organizer_ids"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newEvent,"organizer_ids",e.target.multiple?n:n[0])}}},[n("option",{attrs:{disabled:""}},[t._v("Select an organizer")]),t._l(t.users,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.email))])}))],2)]),n("div",{staticClass:"field"},[n("label",[t._v("Select an Attendee")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.newEvent.attendee_ids,expression:"newEvent.attendee_ids"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newEvent,"attendee_ids",e.target.multiple?n:n[0])}}},[n("option",{attrs:{disabled:""}},[t._v("Select an attendee")]),t._l(t.users,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.email))])}))],2)]),n("input",{staticClass:"button -fill-gradient",attrs:{type:"submit",value:"Save"}})])])},N=[],B=n("c38f"),A=n.n(B),M=(n("0952"),n("8e1f"),{components:{flatPickr:A.a},data:function(){return{categories:this.$store.state.categories,newEvent:[],events:[],users:[],error:"",flatPickrConfig:{wrap:!0,enableTime:!0,dateFormat:"d-m-Y H:i",time_24hr:!0}}},created:function(){var t=this;localStorage.signedIn?this.$http.secured.get("/api/v1/users").then((function(e){t.users=e.data})).catch((function(e){return t.setError(e,"Something went wrong")})):this.$router.replace("/")},methods:{setError:function(t,e){this.error=t.response&&t.response.data&&t.response.data.error||e},addEvent:function(){var t=this,e=this.newEvent;e&&this.$http.secured.post("/api/v1/events/",{event:{title:this.newEvent.title,description:this.newEvent.description,location:this.newEvent.location,term_start:this.newEvent.term_start,term_end:this.newEvent.term_end,categories:this.newEvent.categories,organizer_ids:[this.newEvent.organizer_ids],attendee_ids:[this.newEvent.attendee_ids]}}).then((function(e){t.events.push(e.data),t.newEvent=""})).catch((function(e){return t.setError(e,"Cannot create book")}))}}}),F=M,U=(n("1183"),Object(p["a"])(F,P,N,!1,null,"1a3a2e2a",null)),z=U.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.error?n("div",[t._v(t._s(t.error))]):t._e(),n("h1",[t._v("Events")]),n("h3",[t._v("Add an Event")]),n("EventCreate"),n("hr"),n("h3",[t._v("List all events")]),t._l(t.events,(function(t){return n("EventCard",{key:t.id,attrs:{event:t}})}))],2)},V=[],Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"event-link",attrs:{to:{name:"event-show",params:{id:t.event.id}}}},[n("div",{staticClass:"event-card -shadow"},[n("span",{staticClass:"eyebrow"},[t._v(t._s(t.handleDatetime(t.event.term_start))+" "+t._s(t.handleDatetime(t.event.term_end)))]),n("h4",{staticClass:"title"},[t._v(t._s(t.event.title))]),n("BaseIcon",{attrs:{name:"users"}},[t._v(t._s(t.event.attendees)+" attending")])],1)])},R=[],q=n("7461"),K={name:"EventCard",components:{BaseIcon:q["default"]},props:{event:{type:Object,default:function(){return{}}}},methods:{handleDatetime:function(t){var e=new Date(t);return e.getDate()+"."+e.getMonth()+"."+e.getFullYear()+" - "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}}},W=K,X=(n("c12d"),Object(p["a"])(W,Y,R,!1,null,"0f509064",null)),J=X.exports,G={name:"event",components:{EventCard:J,EventCreate:z},data:function(){return{events:[],error:""}},created:function(){var t=this;localStorage.signedIn?this.$http.secured.get("/api/v1/events").then((function(e){t.events=e.data})).catch((function(e){return t.setError(e,"Something went wrong")})):this.$router.replace("/")},methods:{setError:function(t,e){this.error=t.response&&t.response.data&&t.response.data.error||e}}},Q=G,Z=Object(p["a"])(Q,H,V,!1,null,"c581d05e",null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"event-header"},[n("h2",{staticClass:"title"},[t._v(t._s(t.event.title))]),n("p",[t._v("Start "+t._s(t.handleEventTermDate(t.event.term_start)))]),n("p",[t._v("End "+t._s(t.handleEventTermDate(t.event.term_end)))]),n("p",[t._v(" Organized by "+t._s(t.event.organizers?t.event.organizers.join(", "):"n.a")+" ")]),n("p",[t._v(" Categories: "+t._s(t.event.categories.length>1?t.event.categories.join(", "):t.event.categories.toString())+" ")])]),n("BaseIcon",{attrs:{name:"map"}},[n("p",[t._v("Location")])]),n("address",{staticClass:"location"},[t._v(t._s(t.event.location))]),n("h3",[t._v("Event details")]),n("p",[t._v(t._s(t.event.description))]),n("h3",[t._v(" Attendees "),n("span",{staticClass:"badge -fill-gradient"},[t._v(t._s(t.event.attendees?t.event.attendees.length:0))])]),n("ul",{staticClass:"list-group"},t._l(t.event.attendees,(function(e,o){return n("li",{key:o,staticClass:"list-item"},[n("b",[t._v(t._s(e.name))])])})),0)],1)},nt=[],ot={props:["id"],data:function(){return{event:"",error:""}},created:function(){var t=this;localStorage.signedIn?this.$http.secured.get("/api/v1/events/".concat(this.id)).then((function(e){t.event=e.data})).catch((function(e){return t.setError(e,"Something went wrong")})):this.$router.replace("/")},methods:{setError:function(t,e){this.error=t.response&&t.response.data&&t.response.data.error||e},handleEventTermDate:function(t){var e=new Date(t);return e.getDate()+"/"+e.getMonth()+"/"+e.getFullYear()+" - "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}}},rt=ot,it=(n("28e5"),Object(p["a"])(rt,et,nt,!1,null,"736dd362",null)),at=it.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("h3",[t._v("Sign In")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.signin(e)}}},[t.error?n("div",[t._v(t._s(t.error))]):t._e(),n("div",[n("label",{staticClass:"label",attrs:{for:"email"}},[t._v("E-Mail")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input",attrs:{id:"email",type:"email",placeholder:"user@example.de"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),n("div",[n("label",{staticClass:"label",attrs:{for:"password"}},[t._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("button",{attrs:{type:"submit"}},[t._v("Sign In")]),n("div",[n("router-link",{attrs:{to:"/signup"}},[t._v("Sign up")])],1)])])])},ct=[],lt={name:"Signin",data:function(){return{email:"",password:"",error:""}},created:function(){this.checkSignedIn()},updated:function(){this.checkSignedIn()},methods:{signin:function(){var t=this;this.$http.plain.post("/signin",{email:this.email,password:this.password}).then((function(e){return t.signinSuccessful(e)})).catch((function(e){return t.signinFailed(e)}))},signinSuccessful:function(t){t.data.csrf?(localStorage.csrf=t.data.csrf,localStorage.signedIn=!0,this.error="",this.$router.replace("/dashboard")):this.signinFailed(t)},signinFailed:function(t){this.error=t.response&&t.response.data&&t.response.data.error||"Something went wrong",delete localStorage.csrf,delete localStorage.signedIn},checkSignedIn:function(){localStorage.signedIn&&this.$router.replace("/dashboard")}}},ut=lt,dt=Object(p["a"])(ut,st,ct,!1,null,null,null),vt=dt.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("h3",[t._v("Sign Up")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.signup(e)}}},[t.error?n("div",[t._v(t._s(t.error))]):t._e(),n("div",[n("label",{staticClass:"label",attrs:{for:"name"}},[t._v("Username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input",attrs:{type:"text",id:"name",placeholder:"username"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),n("div",[n("label",{staticClass:"label",attrs:{for:"email"}},[t._v("E-Mail")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input",attrs:{type:"email",id:"email",placeholder:"user@example.de"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),n("div",[n("label",{staticClass:"label",attrs:{for:"password"}},[t._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("div",[n("label",{staticClass:"label",attrs:{for:"password_confirmation"}},[t._v("Password Confirmation")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password_confirmation,expression:"password_confirmation"}],staticClass:"input",attrs:{type:"password",id:"password_confirmation",placeholder:"Password Confirmation"},domProps:{value:t.password_confirmation},on:{input:function(e){e.target.composing||(t.password_confirmation=e.target.value)}}})]),n("button",{attrs:{type:"submit"}},[t._v("Sign Up")]),n("div",[n("router-link",{attrs:{to:"/signin"}},[t._v("Sign In")])],1)])])])},ft=[],mt={name:"Signup",data:function(){return{name:"",email:"",password:"",password_confirmation:"",error:""}},created:function(){this.checkedSignedIn()},updated:function(){this.checkedSignedIn()},methods:{signup:function(){var t=this;this.$http.plain.post("/signup",{email:this.email,password:this.password,password_confirmation:this.password_confirmation}).then((function(e){return t.signupSuccessful(e)})).catch((function(e){return t.signupFailed(e)}))},signupSuccessful:function(t){t.data.csrf?(localStorage.csrf=t.data.csrf,localStorage.signedIn=!0,this.error="",this.$router.replace("/dashboard")):this.signupFailed(t)},signupFailed:function(t){this.error=t.response&&t.response.data&&t.response.data.error||"Something went wrong",delete localStorage.csrf,delete localStorage.signedIn},checkedSignedIn:function(){localStorage.signedIn&&this.$router.replace("/dashboard")}}},ht=mt,gt=Object(p["a"])(ht,pt,ft,!1,null,null,null),_t=gt.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.error?n("div",[t._v(t._s(t.error))]):t._e(),n("h1",[t._v("Books")]),n("h3",[t._v("Add a new book")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.addBook(e)}}},[n("div",{staticClass:"field"},[n("label",[t._v("Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newBook.title,expression:"newBook.title"}],attrs:{type:"text",autofocus:"",autocomplete:"off",placeholder:"Add a book title"},domProps:{value:t.newBook.title},on:{input:function(e){e.target.composing||t.$set(t.newBook,"title",e.target.value)}}})]),n("input",{attrs:{type:"submit",value:"Save"}})]),n("hr"),n("h3",[t._v("List all books")]),n("ul",{staticClass:"list-group"},t._l(t.books,(function(e){return n("li",{key:e.id,staticClass:"list-item",attrs:{book:e}},[n("div",[n("p",[t._v(t._s(e.title))]),n("p",[t._v(t._s(t.handleDatetime(e.created_at)))]),n("p",[t._v(t._s(t.handleDatetime(e.updated_at)))]),n("button",{on:{click:function(n){return n.preventDefault(),t.editBook(e)}}},[t._v("Edit")]),n("button",{on:{click:function(n){return n.preventDefault(),t.removeBook(e)}}},[t._v("Delete")])]),e==t.editedBook?n("div",[n("form",{on:{submit:function(n){return n.preventDefault(),t.updateBook(e)}}},[n("div",{staticClass:"field"},[n("label",[t._v("Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"book.title"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.title},on:{input:function(n){n.target.composing||t.$set(e,"title",n.target.value)}}}),n("input",{attrs:{type:"submit",value:"Update"}}),n("button",{on:{click:function(e){return e.preventDefault(),t.cancel()}}},[t._v("Cancel")])])])]):t._e()])})),0)])},wt=[],Et={name:"Books",data:function(){return{books:[],newBook:[],error:"",editedBook:""}},created:function(){var t=this;localStorage.signedIn?this.$http.secured.get("/api/v1/books").then((function(e){t.books=e.data})).catch((function(e){return t.setError(e,"Something went wrong")})):this.$router.replace("/")},methods:{setError:function(t,e){this.error=t.response&&t.response.data&&t.response.data.error||e},handleDatetime:function(t){var e=new Date(t);return e.getDate()+"."+e.getMonth()+"."+e.getFullYear()+" - "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},addBook:function(){var t=this,e=this.newBook;e&&this.$http.secured.post("/api/v1/books/",{book:{title:this.newBook.title}}).then((function(e){t.books.push(e.data),t.newBook=""})).catch((function(e){return t.setError(e,"Cannot create book")}))},removeBook:function(t){var e=this;this.$http.secured.delete("/api/v1/books/".concat(t.id)).then((function(n){e.books.splice(e.books.indexOf(t),1)})).catch((function(t){return e.setError(t,"Cannot delete book")}))},editBook:function(t){this.editedBook=t},updateBook:function(t){var e=this;this.editedBook="",this.$http.secured.patch("/api/v1/books/".concat(t.id),{book:{title:t.title}}).catch((function(t){return e.setError(t,"Cannot update book")}))},cancel:function(){this.editedBook=""}}},yt=Et,St=(n("71b2"),Object(p["a"])(yt,bt,wt,!1,null,"68f90170",null)),kt=St.exports,Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.error?n("div",[t._v(t._s(t.error))]):t._e(),n("h1",[t._v("Items")]),n("h3",[t._v("Add a new item")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.addItem(e)}}},[n("div",{staticClass:"field"},[n("label",[t._v("Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newItem.name,expression:"newItem.name"}],attrs:{type:"text",autofocus:"",autocomplete:"off",placeholder:"Add a item name"},domProps:{value:t.newItem.name},on:{input:function(e){e.target.composing||t.$set(t.newItem,"name",e.target.value)}}})]),n("div",{staticClass:"field"},[n("label",[t._v("Todo List")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.newItem.todoList,expression:"newItem.todoList"}],staticClass:"select",attrs:{id:"todoList"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newItem,"todoList",e.target.multiple?n:n[0])}}},[n("option",{attrs:{disabled:""}},[t._v("Select a Todo List")]),t._l(t.todoLists,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.title))])}))],2),n("p",[t._v(" Don't see a Todo List? "),n("router-link",{attrs:{to:"/todoLists"}},[t._v("Create one")])],1)]),n("input",{attrs:{type:"submit",value:"Save"}})]),n("hr"),n("h3",[t._v("List all Items")]),n("ul",{staticClass:"list-group"},t._l(t.items,(function(e){return n("li",{key:e.id,staticClass:"list-item",attrs:{item:e}},[n("div",[n("p",[t._v(t._s(e.name))]),n("p",[t._v(t._s(e.done?e.done:"n.a"))]),n("p",[t._v(t._s(t.handleDatetime(e.created_at)))]),n("p",[t._v(t._s(t.handleDatetime(e.updated_at)))]),n("p",[t._v(t._s(t.getTodoList(e)))]),n("button",{on:{click:function(n){return n.preventDefault(),t.editItem(e)}}},[t._v("Edit")]),n("button",{on:{click:function(n){return n.preventDefault(),t.removeItem(e)}}},[t._v("Delete")])]),e==t.editedItem?n("div",[n("form",{on:{submit:function(n){return n.preventDefault(),t.updateItem(e)}}},[n("div",{staticClass:"field"},[n("label",[t._v("Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.name},on:{input:function(n){n.target.composing||t.$set(e,"name",n.target.value)}}})]),n("div",{staticClass:"field"},[n("label",[t._v("Todo List")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.todoList,expression:"item.todoList"}],staticClass:"select",attrs:{id:"todoList_update"},on:{change:function(n){var o=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"todoList",n.target.multiple?o:o[0])}}},[n("option",{attrs:{disabled:""}},[t._v("Select a Todo List")]),t._l(t.todoLists,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.title))])}))],2)]),n("input",{attrs:{type:"submit",value:"Update"}}),n("button",{on:{click:function(e){return e.preventDefault(),t.cancel()}}},[t._v("Cancel")])])]):t._e()])})),0)])},Ct=[],Ot=(n("7f7f"),{name:"Items",data:function(){return{items:[],todoLists:[],newItem:[],error:"",editedItem:""}},created:function(){var t=this;localStorage.signedIn?(this.$http.secured.get("/api/v1/items").then((function(e){t.items=e.data})).catch((function(e){return t.setError(e,"Something went wrong")})),this.$http.secured.get("/api/v1/todo_lists").then((function(e){t.todoLists=e.data})).catch((function(e){return t.setError(e,"Something went wrong")}))):this.$router.replace("/")},methods:{setError:function(t,e){this.error=t.response&&t.response.data&&t.response.data.error||e},handleDatetime:function(t){var e=new Date(t);return e.getDate()+"."+e.getMonth()+"."+e.getFullYear()+" - "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},getTodoList:function(t){var e,n=this.todoLists.filter((function(e){return e.id===t.todo_list_id}));return n.forEach((function(t){e=t.title})),e},addItem:function(){var t=this,e=this.newItem;e&&this.$http.secured.post("/api/v1/items/",{item:{name:this.newItem.name,todo_list_id:this.newItem.todoList}}).then((function(e){t.items.push(e.data),t.newItem=""})).catch((function(e){return t.setError(e,"Cannot create item")}))},removeItem:function(t){var e=this;this.$http.secured.delete("/api/v1/items/".concat(t.id)).then((function(n){e.items.splice(e.items.indexOf(t),1)})).catch((function(t){return e.setError(t,"Cannot delete item")}))},editItem:function(t){this.editedItem=t},updateItem:function(t){var e=this;this.editedItem="",this.$http.secured.patch("/api/v1/items/".concat(t.id),{item:{name:t.name,todo_list_id:t.todoList}}).catch((function(t){return e.setError(t,"Cannot update item")}))},cancel:function(){this.editedItem=""}}}),Lt=Ot,It=Object(p["a"])(Lt,Tt,Ct,!1,null,null,null),Dt=It.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.error?n("div",[t._v(t._s(t.error))]):t._e(),n("h1",[t._v("Todo Lists")]),n("h3",[t._v("Add a new Todo List")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.addTodoList(e)}}},[n("div",{staticClass:"field"},[n("label",[t._v("Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newTodoList.title,expression:"newTodoList.title"}],attrs:{type:"text",autofocus:"",autocomplete:"off",placeholder:"Add a Todo List title"},domProps:{value:t.newTodoList.title},on:{input:function(e){e.target.composing||t.$set(t.newTodoList,"title",e.target.value)}}})]),n("div",{staticClass:"field"},[n("label",[t._v("Items")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.newTodoList.item_ids,expression:"newTodoList.item_ids"}],staticClass:"select",attrs:{id:"items"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newTodoList,"item_ids",e.target.multiple?n:n[0])}}},[n("option",{attrs:{disabled:""}},[t._v("Select an Item")]),t._l(t.items,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2),n("p",[t._v(" Don't see an Item? "),n("router-link",{attrs:{to:"/items"}},[t._v("Create one")])],1)]),n("input",{attrs:{type:"submit",value:"Save"}})]),n("hr"),n("h3",[t._v("List all TodoLists")]),n("ul",{staticClass:"list-group"},t._l(t.todoLists,(function(e){return n("li",{key:e.id,staticClass:"list-item",attrs:{todoList:e}},[n("div",[n("p",[t._v(t._s(e.title))]),n("p",[t._v(t._s(t.handleDatetime(e.created_at)))]),n("p",[t._v(t._s(t.handleDatetime(e.updated_at)))]),n("p",[t._v(t._s(t.getItems(e.item_ids)))]),n("button",{on:{click:function(n){return n.preventDefault(),t.editTodoList(e)}}},[t._v("Edit")]),n("button",{on:{click:function(n){return n.preventDefault(),t.removeTodoList(e)}}},[t._v("Delete")])]),e==t.editedTodoList?n("div",[n("form",{on:{submit:function(n){return n.preventDefault(),t.updateTodoList(e)}}},[n("div",{staticClass:"field"},[n("label",[t._v("Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"todoList.title"}],attrs:{type:"text"},domProps:{value:e.title},on:{input:function(n){n.target.composing||t.$set(e,"title",n.target.value)}}})]),n("div",{staticClass:"field"},[n("label",[t._v("Items")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.item_ids,expression:"todoList.item_ids"}],staticClass:"select",attrs:{id:"item_update"},on:{change:function(n){var o=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"item_ids",n.target.multiple?o:o[0])}}},[n("option",{attrs:{disabled:""}},[t._v("Select an Item")]),t._l(t.items,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])}))],2)]),n("input",{attrs:{type:"submit",value:"Update"}}),n("button",{on:{click:function(e){return e.preventDefault(),t.cancel()}}},[t._v("Cancel")])])]):t._e()])})),0)])},$t=[],jt={name:"TodoLists",data:function(){return{todoLists:[],items:[],newTodoList:[],error:"",editedTodoList:""}},created:function(){var t=this;localStorage.signedIn?(this.$http.secured.get("/api/v1/todo_lists").then((function(e){t.todoLists=e.data})).catch((function(e){return t.setError(e,"Something went wrong")})),this.$http.secured.get("/api/v1/items").then((function(e){t.items=e.data})).catch((function(e){return t.setError(e,"Something went wrong")}))):this.$router.replace("/")},methods:{setError:function(t,e){this.error=t.response&&t.response.data&&t.response.data.error||e},handleDatetime:function(t){var e=new Date(t);return e.getDate()+"."+e.getMonth()+"."+e.getFullYear()+" - "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},getItems:function(t){if(t){var e=[];return t.forEach((function(t){e.push(this.items.filter((function(e){return e.id===t})))})),e.join(", ")}},addTodoList:function(){var t=this,e=this.newTodoList;e&&this.$http.secured.post("/api/v1/todo_lists/",{todo_list:{title:this.newTodoList.title,item_ids:[this.newTodoList.item_ids]}}).then((function(e){t.todoLists.push(e.data),t.newTodoList=""})).catch((function(e){return t.setError(e,"Cannot create Todo List")}))},removeTodoList:function(t){var e=this;this.$http.secured.delete("/api/v1/todo_lists/".concat(t.id)).then((function(n){e.todoLists.splice(e.todoLists.indexOf(t),1)})).catch((function(t){return e.setError(t,"Cannot delete Todo List")}))},editTodoList:function(t){this.editedTodoList=t},updateTodoList:function(t){var e=this;this.editedTodoList="",this.$http.secured.patch("/api/v1/todo_lists/".concat(t.id),{todo_list:{title:t.title,item_ids:[t.item_ids]}}).catch((function(t){return e.setError(t,"Cannot update Todo List")}))},cancel:function(){this.editedTodoList=""}}},Pt=jt,Nt=Object(p["a"])(Pt,xt,$t,!1,null,null,null),Bt=Nt.exports,At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.error?n("div",[t._v(t._s(t.error))]):t._e(),n("h1",[t._v("Dashboard")]),t.isLoading?n("div",[t._v(" Loading events ... ")]):t._e()])},Mt=[],Ft={name:"Dashboard",data:function(){return{isLoading:!0,events:[],error:""}},created:function(){var t=this;localStorage.signedIn?this.$http.secured.get("/api/v1/events").then((function(e){t.events=e.data,t.isLoading=!1})).catch((function(e){return t.setError(e,"Something went wrong")})):this.$router.replace("/")},methods:{setError:function(t,e){this.error=t.response&&t.response.data&&t.response.data.error||e,this.isLoading=!0}}},Ut=Ft,zt=Object(p["a"])(Ut,At,Mt,!1,null,null,null),Ht=zt.exports,Vt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Yt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("h1",[t._v("Welcome to the App!")])])}],Rt={name:"Home"},qt=Rt,Kt=Object(p["a"])(qt,Vt,Yt,!1,null,"6eac9865",null),Wt=Kt.exports;a["a"].use(j["a"]);var Xt=new j["a"]({mode:"history",routes:[{path:"/",name:"home",component:Wt},{path:"/dashboard",name:"Dashboard",component:Ht},{path:"/books",name:"Books",component:kt},{path:"/items",name:"Items",component:Dt},{path:"/todoLists",name:"TodoLists",component:Bt},{path:"/signin",name:"Signin",component:vt},{path:"/signup",name:"Signup",component:_t},{path:"/events",name:"event-list",component:tt},{path:"/events/:id",name:"event-show",component:at,props:!0},{path:"/event/create",name:"event-create",component:z}]}),Jt={user:{id:"abc123",name:"Adam"}},Gt=(n("7514"),n("bc3a")),Qt=n.n(Gt),Zt=Qt.a.create({baseURL:"http://localhost:3000",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}}),te={getEvents:function(t,e){return Zt.get("/events?_limit="+t+"&_page="+e)},getEvent:function(t){return Zt.get("/events/"+t)},postEvent:function(t){return Zt.post("/events",t)}},ee=!0,ne={events:[],eventsTotal:0,event:{}},oe={ADD_EVENT:function(t,e){t.events.push(e)},SET_EVENTS:function(t,e){t.events=e},SET_EVENTS_TOTAL:function(t,e){t.eventsTotal=e},SET_EVENT:function(t,e){t.event=e}},re={createEvent:function(t,e){var n=t.commit,o=t.dispatch;return te.postEvent(e).then((function(){n("ADD_EVENT",e);var t={type:"success",message:"Your event has been created!"};o("notification/add",t,{root:!0})})).catch((function(t){var e={type:"error",message:"There was a problem creating your event: "+t.message};o("notification/add",e,{root:!0})}))},fetchEvents:function(t,e){var n=t.commit,o=t.dispatch,r=e.perPage,i=e.page;te.getEvents(r,i).then((function(t){n("SET_EVENTS",t.data),n("SET_EVENTS_TOTAL",parseInt(t.headers["x-total-count"]))})).catch((function(t){console.log("There was an error:",t.response);var e={type:"error",message:"There was a problem fetching events: "+t.message};o("notification/add",e,{root:!0})}))},fetchEvent:function(t,e){var n=t.commit,o=t.getters,r=t.dispatch,i=o.getEventById(e);i?n("SET_EVENT",i):te.getEvent(e).then((function(t){n("SET_EVENT",t.data)})).catch((function(t){console.log("There was an error:",t.response);var e={type:"error",message:"There was a problem fetching event: "+t.message};r("notification/add",e,{root:!0})}))}},ie={getEventById:function(t){return function(e){return t.events.find((function(t){return t.id===e}))}}},ae=(n("8e6e"),n("456d"),n("bd86"));function se(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?se(Object(n),!0).forEach((function(e){Object(ae["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var le=!0,ue={notifications:[]},de=1,ve={PUSH:function(t,e){t.notifications.push(ce({},e,{id:de++}))},DELETE:function(t,e){t.notifications=t.notifications.filter((function(t){return t.id!==e.id}))}},pe={add:function(t,e){var n=t.commit;n("PUSH",e)},remove:function(t,e){var n=t.commit;n("DELETE",e)}};a["a"].use(w["a"]);var fe=new w["a"].Store({modules:{user:o,event:r,notification:i},state:{categories:["sustainability","nature","animal welfare","housing","education","food","community"],todos:[{id:1,text:"TODO 1",done:!0},{id:2,text:"TODO 2",done:!1},{id:3,text:"TODO 3",done:!0},{id:4,text:"TODO 4",done:!0},{id:5,text:"TODO 5",done:!1},{id:6,text:"TODO 6",done:!1},{id:7,text:"TODO 7",done:!0}]},mutations:{},actions:{},getters:{categoryLength:function(t){return t.categories.length},allTodos:function(t){return t.todos},doneTodos:function(t){return t.todos.filter((function(t){return t.done}))},activeTodosCount:function(t){return t.todos.filter((function(t){return!t.done}))}}}),me=n("8103"),he=n.n(me),ge=n("bba4"),_e=n.n(ge),be=n("a7fe"),we=n.n(be);function Ee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ye(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ee(Object(n),!0).forEach((function(e){Object(ae["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Se="http://localhost:3000",ke=Qt.a.create({baseURL:Se,withCredentials:!0,headers:{"Content-Type":"application/json"}}),Te=Qt.a.create({baseURL:Se,withCredentials:!0,headers:{"Content-Type":"application/json"}});ke.interceptors.request.use((function(t){var e=t.method.toUpperCase();return"OPTIONS"!==e&&"GET"!==e&&(t.headers=ye({},t.headers,{"X-CSRF-TOKEN":localStorage.csrf})),t})),ke.interceptors.response.use(null,(function(t){return t.response&&t.response.config&&401===t.response.status?Te.post("/refresh",{},{headers:{"X-CSRF-TOKEN":localStorage.csrf}}).then((function(e){localStorage.csrf=e.data.csrf,localStorage.signedIn=!0;var n=t.response.config;return n.headers["X-CSRF-TOKEN"]=localStorage.csrf,Te.request(n)})).catch((function(t){return delete localStorage.csrf,delete localStorage.signedIn,location.replace("/"),Promise.reject(t)})):Promise.reject(t)}));var Ce=n("ef13");Ce.keys().forEach((function(t){var e=Ce(t),n=he()(_e()(t.replace(/^\.\/(.*)\.\w+$/,"$1")));a["a"].component(n,e.default||e)})),a["a"].config.productionTip=!1,a["a"].use(we.a,{secured:ke,plain:Te}),new a["a"]({router:Xt,store:fe,securedAxiosInstance:ke,plainAxiosInstance:Te,render:function(t){return t($)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var o=n("9c0c"),r=n.n(o);r.a},"5fba":function(t,e,n){},"71b2":function(t,e,n){"use strict";var o=n("1f31"),r=n.n(o);r.a},7461:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon-wrapper"},[n("svg",{staticClass:"icon",attrs:{width:t.width,height:t.height}},[n("use",t._b({},"use",{"xlink:href":"/feather-sprite.svg#"+t.name},!1))]),t._t("default")],2)},r=[],i=(n("c5f6"),{name:"BaseIcon",props:{name:String,width:{type:[Number,String],default:24},height:{type:[Number,String],default:24}}}),a=i,s=(n("8c79"),n("2877")),c=Object(s["a"])(a,o,r,!1,null,"43f10fdf",null);e["default"]=c.exports},8551:function(t,e,n){},"8c79":function(t,e,n){"use strict";var o=n("5fba"),r=n.n(o);r.a},"914e":function(t,e,n){},"9c0c":function(t,e,n){},c12d:function(t,e,n){"use strict";var o=n("05e0"),r=n.n(o);r.a},c444:function(t,e,n){},ef13:function(t,e,n){var o={"./BaseIcon.vue":"7461"};function r(t){var e=i(t);return n(e)}function i(t){var e=o[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id="ef13"},f195:function(t,e,n){}});
//# sourceMappingURL=app.2a1456e0.js.map